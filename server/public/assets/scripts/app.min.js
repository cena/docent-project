/*! docentedu 2015-09-21 */
function getResources(){$.ajax({type:"GET",dataType:"json",url:"/resources",success:function(a){a.resources.sort(compareToSortAlphabetically),displayCards(a.resources),makePages(a.resources)}})}function compareToSortAlphabetically(a,b){return a.embedName<b.embedName?-1:a.embedName>b.embedName?1:0}function makePages(a){for(numOfPages=Math.ceil(a.length/30),i=1;i<=numOfPages;i++)$(".pageNav").append('<div class="pageButton">'+i+"</div>")}function loadClickedPage(a){pageStart=a-1,getResources()}function displayCards(a){for(var b=30*pageNumber-30;b<a.length&&30*pageNumber>b;b++){embedName=a[b].embedName,logo=a[b].logo,embedLink=a[b].embedLink?"":a[b].embedName,howto=a[b].howto?"":a[b].embedName,description=a[b].description?"":a[b].embedName,category=a[b].category?"":a[b].embedName,subject=a[b].subject?"":a[b].embedName,tags=a[b].tags?"":a[b].embedName;var c='<img src="'+logo+'">',d='<main class="col-md-4 card"></main>',e='<div class="logo col-md-offset-1">'+c+"</div>",f='<h4 class="title col-md-8">'+embedName+"</h4>",g='<iframe class="col-md-offset-1 video" src="'+howto+'" frameborder="0" allowfullscreen></iframe>',h='<p class="paragraph col-md-offset-1 col-md-10">'+description+"</p>",i='<img class="col-md-offset-4 col-md-4 example" src="../public/images/modalButton.png">',j='<section class="tags col-md-offset-3 col-md-10">'+tags+"</section>";$("#cardContainer").append(d),$(".card").last().append('<div class="row">'+e+f+'</div><div class="row">'+g+'</div><div class="row">'+h+'</div><div class="row">'+i+'</div><div class="row">'+j+"</div>")}}function displayCategory(a,b){categoryArray=[];for(var c=0;c<a.length;c++)a[c].category===b&&categoryArray.push(a[c]);return categoryArray}function displaySubject(a,b){subjectArray=[];for(var c=0;c<a.length;c++)a[c].subject===subject&&subjectArray.push(a[c]);for(var c=0;c<a.length;c++)null==a[c].subject&&subjectArray.push(a[c]);return subjectArray}function displayTag(a,b){tagArray=[];for(var c=0;c<a.length;c++)for(var d=0;d<a[c].tags.length;d++)a[c].tags[d]===b&&tagArray.push(a[c].tags[d]);return tagArray}var embedName="",logo="",embedLink="",howto="",description="",category="",subject="",tags=[],pageNumber=1,resources=[];$(document).ready(function(){$(".example").on("click",function(){$("#myModal").modal("show")}),$(".navDirectory").on("mouseenter",function(){$(this).find(".sub-nav").slideDown()}),$(".navDirectory").on("mouseleave",function(){$(this).find(".sub-nav").slideUp()}),$(".delete").on("click",function(){$("#myModal").modal("show")}),$(".newResourceButton").on("click",function(){$("#newModal").modal("show")}),$(".editButton").on("click",function(){$("#newModal").modal("show")}),getResources(),console.log(resources)}),$("body").on("click",".pageButton",function(){pageNumber=4});